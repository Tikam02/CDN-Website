{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\n\nvar BaseAccordion = /*#__PURE__*/function (_React$Component) {\n  _inherits(BaseAccordion, _React$Component);\n\n  var _super = _createSuper(BaseAccordion);\n\n  function BaseAccordion() {\n    var _this;\n\n    _classCallCheck(this, BaseAccordion);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      openIndexes: [0]\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleItemClick\", function (index) {\n      _this.internalSetState(function (state) {\n        var closing = state.openIndexes.includes(index);\n        return {\n          type: closing ? 'closing' : 'opening',\n          openIndexes: closing ? state.openIndexes.filter(function (i) {\n            return i !== index;\n          }) : [].concat(_toConsumableArray(state.openIndexes), [index])\n        };\n      });\n\n      console.log('clicked');\n    });\n\n    return _this;\n  }\n\n  _createClass(BaseAccordion, [{\n    key: \"getState\",\n    value: function getState() {\n      var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state;\n      return {\n        openIndexes: this.props.openIndexes === undefined ? state.openIndexes : this.props.openIndexes\n      };\n    }\n  }, {\n    key: \"internalSetState\",\n    value: function internalSetState(changes) {\n      var _this2 = this;\n\n      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n      var allChanges;\n      this.setState(function (state) {\n        var actualState = _this2.getState(state);\n\n        var changesObject = typeof changes === 'function' ? changes(actualState) : changes;\n        allChanges = _this2.props.stateReducer(actualState, changesObject);\n        return allChanges;\n      }, function () {\n        _this2.props.onStateChange(allChanges);\n\n        callback();\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.props.children({\n        openIndexes: this.getState().openIndexes,\n        handleItemClick: this.handleItemClick\n      });\n    }\n  }]);\n\n  return BaseAccordion;\n}(React.Component);\n\n_defineProperty(BaseAccordion, \"defaultProps\", {\n  stateReducer: function stateReducer(state, changes) {\n    return changes;\n  },\n  onStateChange: function onStateChange() {}\n});\n\nexport { BaseAccordion };","map":{"version":3,"sources":["/home/hal/github/CDN/CDN-Website/src/components/accordion/base-accordion.js"],"names":["React","BaseAccordion","openIndexes","index","internalSetState","state","closing","includes","type","filter","i","console","log","props","undefined","changes","callback","allChanges","setState","actualState","getState","changesObject","stateReducer","onStateChange","children","handleItemClick","Component"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;IAEMC,a;;;;;;;;;;;;;;;;4DAKI;AAAEC,MAAAA,WAAW,EAAE,CAAC,CAAD;AAAf,K;;sEAyBU,UAACC,KAAD,EAAW;AAC3B,YAAKC,gBAAL,CAAsB,UAACC,KAAD,EAAW;AAC/B,YAAMC,OAAO,GAAGD,KAAK,CAACH,WAAN,CAAkBK,QAAlB,CAA2BJ,KAA3B,CAAhB;AACA,eAAO;AACLK,UAAAA,IAAI,EAAEF,OAAO,GAAG,SAAH,GAAe,SADvB;AAELJ,UAAAA,WAAW,EAAEI,OAAO,GAChBD,KAAK,CAACH,WAAN,CAAkBO,MAAlB,CAAyB,UAACC,CAAD;AAAA,mBAAOA,CAAC,KAAKP,KAAb;AAAA,WAAzB,CADgB,gCAEZE,KAAK,CAACH,WAFM,IAEOC,KAFP;AAFf,SAAP;AAMD,OARD;;AASAQ,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACD,K;;;;;;;+BAnC4B;AAAA,UAApBP,KAAoB,uEAAZ,KAAKA,KAAO;AAC3B,aAAO;AACLH,QAAAA,WAAW,EACT,KAAKW,KAAL,CAAWX,WAAX,KAA2BY,SAA3B,GACIT,KAAK,CAACH,WADV,GAEI,KAAKW,KAAL,CAAWX;AAJZ,OAAP;AAMD;;;qCACgBa,O,EAA8B;AAAA;;AAAA,UAArBC,QAAqB,uEAAV,YAAM,CAAE,CAAE;AAC7C,UAAIC,UAAJ;AACA,WAAKC,QAAL,CACE,UAACb,KAAD,EAAW;AACT,YAAMc,WAAW,GAAG,MAAI,CAACC,QAAL,CAAcf,KAAd,CAApB;;AACA,YAAMgB,aAAa,GACjB,OAAON,OAAP,KAAmB,UAAnB,GAAgCA,OAAO,CAACI,WAAD,CAAvC,GAAuDJ,OADzD;AAEAE,QAAAA,UAAU,GAAG,MAAI,CAACJ,KAAL,CAAWS,YAAX,CAAwBH,WAAxB,EAAqCE,aAArC,CAAb;AACA,eAAOJ,UAAP;AACD,OAPH,EAQE,YAAM;AACJ,QAAA,MAAI,CAACJ,KAAL,CAAWU,aAAX,CAAyBN,UAAzB;;AACAD,QAAAA,QAAQ;AACT,OAXH;AAaD;;;6BAaQ;AACP,aAAO,KAAKH,KAAL,CAAWW,QAAX,CAAoB;AACzBtB,QAAAA,WAAW,EAAE,KAAKkB,QAAL,GAAgBlB,WADJ;AAEzBuB,QAAAA,eAAe,EAAE,KAAKA;AAFG,OAApB,CAAP;AAID;;;;EA/CyBzB,KAAK,CAAC0B,S;;gBAA5BzB,a,kBACkB;AACpBqB,EAAAA,YAAY,EAAE,sBAACjB,KAAD,EAAQU,OAAR;AAAA,WAAoBA,OAApB;AAAA,GADM;AAEpBQ,EAAAA,aAAa,EAAE,yBAAM,CAAE;AAFH,C;;AAiDxB,SAAStB,aAAT","sourcesContent":["import React from 'react';\n\nclass BaseAccordion extends React.Component {\n  static defaultProps = {\n    stateReducer: (state, changes) => changes,\n    onStateChange: () => {},\n  };\n  state = { openIndexes: [0] };\n  getState(state = this.state) {\n    return {\n      openIndexes:\n        this.props.openIndexes === undefined\n          ? state.openIndexes\n          : this.props.openIndexes,\n    };\n  }\n  internalSetState(changes, callback = () => {}) {\n    let allChanges;\n    this.setState(\n      (state) => {\n        const actualState = this.getState(state);\n        const changesObject =\n          typeof changes === 'function' ? changes(actualState) : changes;\n        allChanges = this.props.stateReducer(actualState, changesObject);\n        return allChanges;\n      },\n      () => {\n        this.props.onStateChange(allChanges);\n        callback();\n      }\n    );\n  }\n  handleItemClick = (index) => {\n    this.internalSetState((state) => {\n      const closing = state.openIndexes.includes(index);\n      return {\n        type: closing ? 'closing' : 'opening',\n        openIndexes: closing\n          ? state.openIndexes.filter((i) => i !== index)\n          : [...state.openIndexes, index],\n      };\n    });\n    console.log('clicked');\n  };\n  render() {\n    return this.props.children({\n      openIndexes: this.getState().openIndexes,\n      handleItemClick: this.handleItemClick,\n    });\n  }\n}\n\nexport { BaseAccordion };\n"]},"metadata":{},"sourceType":"module"}